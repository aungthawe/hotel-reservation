<!-- templates/fragments/header.html -->
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head th:fragment="siteHead">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="${pageTitle}">HotelBlue</title>

    <link th:href="@{/css/customAlert.css}" rel="stylesheet">
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA;
            color: #212529;
            scroll-behavior: smooth;
        }
        .text-gradient {
            background-image: linear-gradient(45deg, #18A0FB, #00BFFF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @keyframes scroll-x {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }

        .animate-scroll-x {
          animation: scroll-x 30s linear infinite;
        }

        @keyframes scroll-x-reverse {
          0% { transform: translateX(-50%); }
          100% { transform: translateX(0); }
        }

        .animate-scroll-x-reverse {
          animation: scroll-x-reverse 30s linear infinite;
        }

    </style>

</head>

<!-- Hero Section -->
<section th:fragment="heroSection" id="home" class="relative isolate pt-32 lg:pt-40 pb-20 px-6 lg:px-8 text-center">
    <h1 class="text-4xl sm:text-6xl font-extrabold tracking-tight">
        Welcome to <span class="text-gradient">BlueSky Hotel</span>
    </h1>
    <p class="mt-6 max-w-2xl mx-auto text-lg leading-8 text-[#212529]/80">
        Experience luxury and comfort with our world-class rooms and exceptional services — your dream vacation starts here.
    </p>
    <div class="mt-8 flex justify-center gap-x-4">
        <a href="#book" class="rounded-md bg-[#FFC107] px-6 py-3 text-sm font-semibold text-[#212529] shadow-md hover:bg-[#e6ac06] transition-all transform hover:scale-105">Book Now</a>
<!--        <a href="#rooms" class="text-sm font-semibold leading-6 text-[#212529] hover:text-[#18A0FB] transition-colors">View Rooms →</a>-->
    </div>
</section>

<!--Header2-->
<header th:fragment="header" class="fixed inset-x-0 top-0 z-50 bg-white/20 backdrop-blur-md shadow-sm border-b border-white/10">
    <!-- Tailwind Registration Modal -->

    <nav class="flex items-center justify-between px-6 py-4 lg:px-8" aria-label="Global">
        <div class="flex lg:flex-1 items-center space-x-2">
            <svg class="h-8 w-auto text-[#18A0FB]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253" />
            </svg>
            <span class="text-xl font-bold text-[#212529]">BlueSky Hotel</span>
        </div>
        <div class="hidden lg:flex lg:gap-x-10">
            <a href="#home" class="text-sm font-semibold text-[#212529] hover:text-[#18A0FB] transition-colors">Home</a>
            <a href="#offer-section" class="text-sm font-semibold text-[#212529] hover:text-[#18A0FB] transition-colors">Rooms</a>
            <a href="#facilities" class="text-sm font-semibold text-[#212529] hover:text-[#18A0FB] transition-colors">Facilities</a>
            <a href="#contact" class="text-sm font-semibold text-[#212529] hover:text-[#18A0FB] transition-colors">Contact</a>
        </div>
        <!-- Auth Section -->
        <div class="hidden lg:flex lg:flex-1 lg:justify-end items-center gap-4">

            <!-- If NOT logged in -->
            <div class="flex items-center gap-3" th:if="${currentUser == null}">
                <a href="javascript:void(0)" onclick="showStep1(); openModal('registrationModal')"
                   class="px-4 py-2 rounded-xl bg-[#18A0FB] text-white font-semibold shadow hover:scale-105 transition-transform">
                    Register
                </a>
                <a href="/login"
                   class="px-4 py-2 rounded-xl bg-[#18A0FB] text-white font-semibold shadow hover:scale-105 transition-transform">
                    Log in
                </a>
            </div>

            <!-- If logged in -->
            <a th:if="${currentUser != null}" th:href="@{/account}" class="flex items-center gap-3 no-style-link">
                <p class="text-[#212529] font-medium" th:text="${currentUser.displayName}"></p>
                <img th:if="${currentUser.imagePath != null}"
                     th:src="@{'/images/users/' + ${currentUser.imagePath}}"
                     alt="Profile Image"
                     class="rounded-full object-cover w-10 h-10 shadow" />
                <img th:unless="${currentUser.imagePath != null}"
                     src="/images/user-icon.png"
                     alt="User Icon"
                     class="rounded-full w-10 h-10 shadow" />
            </a>

        </div>

    </nav>

</header>

<div th:fragment="registrationModal" id="registrationModal" class="hidden">
    <!-- Tailwind Modal (drop right after <body>) -->

        <!-- Backdrop -->
        <div id="registrationBackdrop" class="fixed inset-0 z-[9998] bg-black/50 backdrop-blur-sm opacity-0 transition-opacity duration-300"
             onclick="closeModal('registrationModal')"></div>

        <!-- Centered Panel -->
        <div id="registrationPanel" class="fixed z-[9999] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
              w-[92vw] max-w-md max-h-[85vh] overflow-y-auto
              bg-white rounded-2xl shadow-2xl p-6 opacity-0 scale-95 transition-all duration-300">

            <button class="absolute top-3 right-3 text-gray-500 hover:text-gray-800"
                    onclick="closeModal('registrationModal')">✕
            </button>

            <h2 class="text-xl font-bold text-[#212529] mb-4">Customer Registration</h2>

            <form id="registrationForm" action="/users/register" method="post" class="space-y-4">
                <!-- Step 1 -->
                <div id="step1">
                    <label class="block text-sm font-medium">Full Name</label>
                    <input id="name" name="name" required
                           class="mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-[#18A0FB] focus:border-[#18A0FB]"/>

                    <label class="block text-sm font-medium mt-3">Username</label>
                    <input id="username" name="username" required onkeyup="checkUsername()"
                           class="mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-[#18A0FB] focus:border-[#18A0FB]"/>
                    <span id="usernameMessage" class="text-sm"></span>

                    <label class="block text-sm font-medium mt-3">Password</label>
                    <input type="password" id="password" name="password" required
                           class="mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-[#18A0FB] focus:border-[#18A0FB]"/>

                    <button type="button" onclick="showStep2()"
                            class="mt-4 w-full rounded-lg bg-[#18A0FB] text-white font-semibold py-2 hover:bg-[#0d8ddb]">
                        Next
                    </button>
                </div>

                <!-- Step 2 -->
                <div id="step2" class="hidden">
                    <label class="block text-sm font-medium">Email</label>
                    <input type="email" id="email" name="email" required onkeyup="checkEmail()"
                           class="mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-[#18A0FB] focus:border-[#18A0FB]"/>
                    <span id="emailMessage" class="text-sm"></span>

                    <label class="block text-sm font-medium mt-3">Phone</label>
                    <input id="phone" name="phone" required
                           class="mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-[#18A0FB] focus:border-[#18A0FB]"/>

                    <label class="block text-sm font-medium mt-3">Age</label>
                    <input type="number" id="age" name="age" required
                           class="mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-[#18A0FB] focus:border-[#18A0FB]"/>

                    <label class="block text-sm font-medium mt-3">Gender</label>
                    <select id="gender" name="gender" required
                            class="mt-1 w-full rounded-lg border border-gray-300 p-2 focus:ring-[#18A0FB] focus:border-[#18A0FB]">
                        <option value="">Select Gender</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option>Other</option>
                    </select>

                    <button type="submit" id="submitBtn"
                            class="mt-4 w-full rounded-lg bg-[#18A0FB] text-white font-semibold py-2 hover:bg-[#0d8ddb]">
                        Submit
                    </button>
                </div>
            </form>
        </div>

</div>

</html>
